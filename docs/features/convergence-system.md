# æ”¶æ•›æœºåˆ¶

QN Contestçš„æ”¶æ•›æœºåˆ¶æ˜¯æ™ºèƒ½æ•…äº‹å¼•å¯¼ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œé€šè¿‡AIæ¨¡å‹æ™ºèƒ½åˆ†æç”¨æˆ·è¡Œä¸ºï¼Œå¼•å¯¼æ•…äº‹å‘é¢„è®¾çš„ç»“å±€æ–¹å‘å‘å±•ï¼Œç¡®ä¿æ•…äº‹çš„è¿è´¯æ€§å’Œå®Œæ•´æ€§ã€‚

## ç³»ç»Ÿæ¦‚è¿°

æ”¶æ•›æœºåˆ¶åŸºäºæ™ºèƒ½ç®—æ³•ï¼Œå®æ—¶åˆ†æç”¨æˆ·è¡Œä¸ºå¯¹æ•…äº‹å‘å±•çš„å½±å“ï¼Œè®¡ç®—åˆ°å„ä¸ªé¢„è®¾ç»“å±€åœºæ™¯çš„è·ç¦»ï¼Œå¹¶æä¾›åŠ¨æ€çš„å¼•å¯¼æç¤ºï¼Œç¡®ä¿æ— è®ºç”¨æˆ·å¦‚ä½•æ¢ç´¢ï¼Œæœ€ç»ˆéƒ½èƒ½æ”¶æ•›åˆ°æœ‰æ„ä¹‰çš„ç»“å±€ã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½æ”¶æ•›
- **å¤šåœºæ™¯æ”¯æŒ**: æ”¯æŒå¤šä¸ªé¢„è®¾çš„æ”¶æ•›åœºæ™¯
- **è·ç¦»è®¡ç®—**: å®æ—¶è®¡ç®—åˆ°å„åœºæ™¯çš„è·ç¦»
- **åŠ¨æ€å¼•å¯¼**: æ ¹æ®å½“å‰çŠ¶æ€æä¾›ä¸ªæ€§åŒ–å¼•å¯¼

### ğŸ“Š è¿›åº¦è·Ÿè¸ª
- **æ•´ä½“è¿›åº¦**: è·Ÿè¸ªæ•…äº‹å‘ç»“å±€æ¨è¿›çš„æ•´ä½“è¿›åº¦
- **åœºæ™¯è¿›åº¦**: è·Ÿè¸ªå„ä¸ªæ”¶æ•›åœºæ™¯çš„å®Œæˆè¿›åº¦
- **å†å²è®°å½•**: è®°å½•æ”¶æ•›çŠ¶æ€çš„å˜åŒ–å†å²

### ğŸ§­ å¼•å¯¼ç³»ç»Ÿ
- **æ™ºèƒ½æç¤º**: åŸºäºå½“å‰çŠ¶æ€ç”Ÿæˆå¼•å¯¼æç¤º
- **å¤šè·¯å¾„æ”¯æŒ**: æ”¯æŒå¤šç§åˆ°è¾¾ç»“å±€çš„è·¯å¾„
- **è‡ªç„¶å¼•å¯¼**: é¿å…ç”Ÿç¡¬çš„å‰§æƒ…å¼ºåˆ¶

## æ”¶æ•›åŸç†

### 1. è‡ªç”±æ¢ç´¢
ç”¨æˆ·å¯ä»¥åœ¨æ¸¸æˆä¸­è¿›è¡Œä»»ä½•æƒ³åšçš„è¡Œä¸ºï¼Œç³»ç»Ÿä¸ä¼šå¼ºåˆ¶é™åˆ¶ç”¨æˆ·çš„é€‰æ‹©ã€‚

### 2. æ™ºèƒ½åˆ†æ
AIæ¨¡å‹å®æ—¶åˆ†æç”¨æˆ·è¡Œä¸ºï¼Œè¯„ä¼°å…¶å¯¹æ•…äº‹å‘å±•çš„å½±å“ï¼š
- è¡Œä¸ºæ˜¯å¦ç¬¦åˆå½“å‰æ•…äº‹é€»è¾‘
- è¡Œä¸ºæ˜¯å¦æ¨è¿›äº†æ•…äº‹å‘å±•
- è¡Œä¸ºæ˜¯å¦æ¥è¿‘æŸä¸ªæ”¶æ•›åœºæ™¯

### 3. è·ç¦»è®¡ç®—
ç³»ç»Ÿè®¡ç®—å½“å‰æ•…äº‹çŠ¶æ€åˆ°å„ä¸ªé¢„è®¾æ”¶æ•›åœºæ™¯çš„è·ç¦»ï¼š
- **åœºæ™¯åŒ¹é…åº¦**: å½“å‰çŠ¶æ€ä¸ç›®æ ‡åœºæ™¯çš„åŒ¹é…ç¨‹åº¦
- **è·¯å¾„å¯è¡Œæ€§**: ä»å½“å‰çŠ¶æ€åˆ°è¾¾ç›®æ ‡åœºæ™¯çš„å¯è¡Œæ€§
- **æ—¶é—´å› ç´ **: è€ƒè™‘æ•…äº‹å‘å±•çš„æ—¶é—´å› ç´ 

### 4. åŠ¨æ€å¼•å¯¼
åŸºäºè·ç¦»è®¡ç®—ç»“æœï¼Œç³»ç»Ÿæä¾›åŠ¨æ€çš„å¼•å¯¼æç¤ºï¼š
- **å¾®å¦™æç¤º**: åœ¨æ—©æœŸé˜¶æ®µæä¾›å¾®å¦™çš„å¼•å¯¼
- **æ˜ç¡®å»ºè®®**: åœ¨å…³é”®æ—¶åˆ»æä¾›æ˜ç¡®çš„å»ºè®®
- **ç´§æ€¥å¼•å¯¼**: åœ¨åç¦»è¿‡è¿œæ—¶æä¾›ç´§æ€¥å¼•å¯¼

## æ”¶æ•›çŠ¶æ€ç®¡ç†

### æ•°æ®ç»“æ„
```java
@Entity
public class ConvergenceStatus {
    private Long id;
    private String sessionId;
    private Double progress;                    // æ•´ä½“æ”¶æ•›è¿›åº¦ (0-1)
    private String nearestScenarioId;          // æœ€è¿‘æ”¶æ•›åœºæ™¯ID
    private String nearestScenarioTitle;       // æœ€è¿‘æ”¶æ•›åœºæ™¯æ ‡é¢˜
    private Double distanceToNearest;          // åˆ°æœ€è¿‘åœºæ™¯çš„è·ç¦»
    private String scenarioProgress;           // å„åœºæ™¯è¿›åº¦JSON
    private String activeHints;                // æ´»è·ƒå¼•å¯¼æç¤ºJSON
    private LocalDateTime lastUpdated;         // æœ€åæ›´æ–°æ—¶é—´
    private LocalDateTime createdAt;           // åˆ›å»ºæ—¶é—´
}
```

### è¿›åº¦è®¡ç®—
```java
@Service
public class ConvergenceStatusService {
    
    public void updateProgress(String sessionId, double progress) {
        ConvergenceStatus status = getOrCreateConvergenceStatus(sessionId);
        status.updateProgress(progress);
        convergenceStatusRepository.save(status);
    }
    
    public void updateNearestScenario(String sessionId, String scenarioId, 
                                    String scenarioTitle, double distance) {
        ConvergenceStatus status = getOrCreateConvergenceStatus(sessionId);
        status.setNearestScenarioId(scenarioId);
        status.setNearestScenarioTitle(scenarioTitle);
        status.setDistanceToNearest(distance);
        status.setLastUpdated(LocalDateTime.now());
        convergenceStatusRepository.save(status);
    }
}
```

## æ”¶æ•›åœºæ™¯å®šä¹‰

### 1. åœºæ™¯ç±»å‹
æ¯ä¸ªä¸–ç•Œç±»å‹éƒ½æœ‰å¤šä¸ªé¢„è®¾çš„æ”¶æ•›åœºæ™¯ï¼š

#### å¼‚ä¸–ç•Œæ¢é™©
- **ä¸»è¦ç»“å±€**: å‡»è´¥æœ€ç»ˆBOSSï¼Œæ‹¯æ•‘ä¸–ç•Œ
- **å¤‡é€‰ç»“å±€**: æˆä¸ºæ–°çš„ç»Ÿæ²»è€…
- **éšè—ç»“å±€**: å‘ç°ä¸–ç•Œçš„çœŸç›¸

#### è¥¿æ–¹é­”å¹»
- **ä¸»è¦ç»“å±€**: æŒæ¡ç»ˆæé­”æ³•ï¼Œæˆä¸ºå¤§æ³•å¸ˆ
- **å¤‡é€‰ç»“å±€**: ä¸é¾™æ—å’Œè§£ï¼Œå»ºç«‹æ–°ç§©åº
- **éšè—ç»“å±€**: å‘ç°é­”æ³•çš„èµ·æº

#### ä¸œæ–¹æ­¦ä¾ 
- **ä¸»è¦ç»“å±€**: æˆä¸ºæ­¦æ—ç›Ÿä¸»ï¼Œç»´æŠ¤æ±Ÿæ¹–æ­£ä¹‰
- **å¤‡é€‰ç»“å±€**: éšå±…å±±æ—ï¼Œè¿½æ±‚æ­¦é“æè‡´
- **éšè—ç»“å±€**: å‘ç°æ­¦å­¦çš„ç»ˆæç§˜å¯†

#### æ—¥å¼æ ¡å›­
- **ä¸»è¦ç»“å±€**: æ¯•ä¸šå…¸ç¤¼ï¼Œä¸æœ‹å‹ä»¬å‘Šåˆ«
- **å¤‡é€‰ç»“å±€**: è½¬å­¦ç¦»å¼€ï¼Œå¼€å§‹æ–°ç”Ÿæ´»
- **éšè—ç»“å±€**: å‘ç°å­¦æ ¡çš„ç§˜å¯†

#### å¯“æ•™äºä¹
- **ä¸»è¦ç»“å±€**: å®Œæˆæ‰€æœ‰å­¦ä¹ æŒ‘æˆ˜ï¼Œæˆä¸ºå­¦éœ¸
- **å¤‡é€‰ç»“å±€**: å‘ç°å­¦ä¹ çš„ä¹è¶£ï¼Œç»§ç»­æ·±é€ 
- **éšè—ç»“å±€**: å‘ç°çŸ¥è¯†çš„ç»ˆæå¥¥ç§˜

### 2. åœºæ™¯å±æ€§
æ¯ä¸ªæ”¶æ•›åœºæ™¯éƒ½æœ‰ä»¥ä¸‹å±æ€§ï¼š
- **åœºæ™¯ID**: å”¯ä¸€æ ‡è¯†ç¬¦
- **åœºæ™¯æ ‡é¢˜**: äººç±»å¯è¯»çš„æ ‡é¢˜
- **åœºæ™¯æè¿°**: è¯¦ç»†çš„åœºæ™¯æè¿°
- **è§¦å‘æ¡ä»¶**: è§¦å‘è¯¥åœºæ™¯çš„æ¡ä»¶
- **æƒé‡**: åœºæ™¯çš„é‡è¦æ€§æƒé‡

## è·ç¦»è®¡ç®—ç®—æ³•

### 1. çŠ¶æ€åŒ¹é…åº¦
```java
public double calculateStateMatch(String currentState, String targetScenario) {
    // åŸºäºå…³é”®è¯åŒ¹é…è®¡ç®—çŠ¶æ€ç›¸ä¼¼åº¦
    Set<String> currentKeywords = extractKeywords(currentState);
    Set<String> targetKeywords = extractKeywords(targetScenario);
    
    int intersection = Sets.intersection(currentKeywords, targetKeywords).size();
    int union = Sets.union(currentKeywords, targetKeywords).size();
    
    return (double) intersection / union;
}
```

### 2. è·¯å¾„å¯è¡Œæ€§
```java
public double calculatePathFeasibility(String currentState, String targetScenario) {
    // åŸºäºæ•…äº‹é€»è¾‘è®¡ç®—è·¯å¾„å¯è¡Œæ€§
    List<String> requiredSteps = getRequiredSteps(targetScenario);
    List<String> completedSteps = getCompletedSteps(currentState);
    
    int completedCount = 0;
    for (String step : requiredSteps) {
        if (completedSteps.contains(step)) {
            completedCount++;
        }
    }
    
    return (double) completedCount / requiredSteps.size();
}
```

### 3. ç»¼åˆè·ç¦»
```java
public double calculateDistance(String currentState, String targetScenario) {
    double stateMatch = calculateStateMatch(currentState, targetScenario);
    double pathFeasibility = calculatePathFeasibility(currentState, targetScenario);
    
    // ç»¼åˆè®¡ç®—è·ç¦»ï¼ˆè¶Šå°è¶Šæ¥è¿‘ï¼‰
    return 1.0 - (stateMatch * 0.6 + pathFeasibility * 0.4);
}
```

## å¼•å¯¼æç¤ºç”Ÿæˆ

### 1. æç¤ºç±»å‹
æ ¹æ®è·ç¦»å’Œè¿›åº¦ï¼Œç”Ÿæˆä¸åŒç±»å‹çš„å¼•å¯¼æç¤ºï¼š

#### å¾®å¦™æç¤º (è·ç¦» > 0.7)
- "ä½ æ³¨æ„åˆ°è¿œå¤„æœ‰ä»€ä¹ˆåœ¨é—ªçƒ"
- "ç©ºæ°”ä¸­ä¼¼ä¹æœ‰ä»€ä¹ˆä¸å¯»å¸¸çš„æ°”æ¯"
- "ä½ æ„Ÿè§‰æœ‰ä»€ä¹ˆé‡è¦çš„äº‹æƒ…å³å°†å‘ç”Ÿ"

#### æ˜ç¡®å»ºè®® (0.4 < è·ç¦» â‰¤ 0.7)
- "å»ºè®®ä½ å‰å¾€ä¸œè¾¹çš„æ£®æ—ï¼Œé‚£é‡Œå¯èƒ½æœ‰é‡è¦çº¿ç´¢"
- "ä¸æ‘é•¿å¯¹è¯å¯èƒ½ä¼šè·å¾—æœ‰ç”¨çš„ä¿¡æ¯"
- "æ£€æŸ¥é‚£ä¸ªå¤è€çš„çŸ³ç¢‘ï¼Œå®ƒå¯èƒ½éšè—ç€ç§˜å¯†"

#### ç´§æ€¥å¼•å¯¼ (è·ç¦» â‰¤ 0.4)
- "æ—¶é—´ç´§è¿«ï¼ä½ å¿…é¡»ç«‹å³å‰å¾€ç¥åº™"
- "è¿™æ˜¯æœ€åçš„æœºä¼šï¼Œä¸è¦çŠ¹è±«"
- "é€‰æ‹©ç°åœ¨å†³å®šäº†ä½ çš„å‘½è¿"

### 2. æç¤ºç”Ÿæˆç®—æ³•
```java
public List<String> generateHints(String sessionId) {
    ConvergenceStatus status = getConvergenceStatus(sessionId);
    double distance = status.getDistanceToNearest();
    
    List<String> hints = new ArrayList<>();
    
    if (distance > 0.7) {
        hints.addAll(generateSubtleHints(status));
    } else if (distance > 0.4) {
        hints.addAll(generateClearSuggestions(status));
    } else {
        hints.addAll(generateUrgentGuidance(status));
    }
    
    return hints;
}
```

## æ”¶æ•›çŠ¶æ€æ›´æ–°

### 1. è¯„ä¼°JSONé›†æˆ
æ”¶æ•›çŠ¶æ€æ›´æ–°é€šè¿‡è¯„ä¼°JSONä¸­çš„`convergenceStatusUpdates`å­—æ®µè¿›è¡Œï¼š

```json
"convergenceStatusUpdates": {
  "progress": 0.75,
  "nearestScenarioId": "story_convergence_2",
  "nearestScenarioTitle": "è¿œå¤ç¥åº™",
  "distanceToNearest": 0.3,
  "scenarioProgress": {
    "story_convergence_1": 1.0,
    "story_convergence_2": 0.75,
    "main_convergence": 0.2
  },
  "activeHints": ["å¯»æ‰¾ç¥åº™å…¥å£", "æ”¶é›†å¤ä»£ç¬¦æ–‡"]
}
```

### 2. å¤„ç†é€»è¾‘
```java
private void processConvergenceStatusUpdates(String sessionId, JsonNode assessment) {
    JsonNode convergenceUpdates = assessment.get("convergenceStatusUpdates");
    if (convergenceUpdates == null) return;
    
    // æ›´æ–°æ•´ä½“è¿›åº¦
    if (convergenceUpdates.has("progress")) {
        double progress = convergenceUpdates.get("progress").asDouble();
        convergenceStatusService.updateProgress(sessionId, progress);
    }
    
    // æ›´æ–°æœ€è¿‘åœºæ™¯
    if (convergenceUpdates.has("nearestScenarioId")) {
        String scenarioId = convergenceUpdates.get("nearestScenarioId").asText();
        String scenarioTitle = convergenceUpdates.get("nearestScenarioTitle").asText();
        double distance = convergenceUpdates.get("distanceToNearest").asDouble();
        convergenceStatusService.updateNearestScenario(sessionId, scenarioId, scenarioTitle, distance);
    }
    
    // æ›´æ–°åœºæ™¯è¿›åº¦
    if (convergenceUpdates.has("scenarioProgress")) {
        Map<String, Double> scenarioProgress = parseScenarioProgress(convergenceUpdates.get("scenarioProgress"));
        convergenceStatusService.updateScenarioProgress(sessionId, scenarioProgress);
    }
    
    // æ›´æ–°æ´»è·ƒæç¤º
    if (convergenceUpdates.has("activeHints")) {
        List<String> activeHints = parseActiveHints(convergenceUpdates.get("activeHints"));
        convergenceStatusService.updateActiveHints(sessionId, activeHints);
    }
}
```

## æç¤ºè¯é›†æˆ

### 1. æ”¶æ•›çŠ¶æ€æ‘˜è¦
åœ¨AIæç¤ºè¯ä¸­åŒ…å«å½“å‰æ”¶æ•›çŠ¶æ€ä¿¡æ¯ï¼š

```java
public String getConvergenceStatusSummary(String sessionId) {
    Optional<ConvergenceStatus> statusOpt = convergenceStatusRepository.findBySessionId(sessionId);
    if (statusOpt.isEmpty()) {
        return "";
    }
    
    ConvergenceStatus status = statusOpt.get();
    StringBuilder summary = new StringBuilder();
    summary.append(String.format("- **æ•´ä½“æ”¶æ•›è¿›åº¦**: %.1f%%\n", status.getProgress() * 100));
    
    if (status.getNearestScenarioId() != null) {
        summary.append(String.format("- **æœ€è¿‘æ”¶æ•›åœºæ™¯**: %s (%s), è·ç¦»: %.2f\n",
                status.getNearestScenarioTitle(), status.getNearestScenarioId(), status.getDistanceToNearest()));
    }
    
    if (status.getScenarioProgress() != null && !status.getScenarioProgress().isEmpty()) {
        try {
            Map<String, Double> scenarioProgress = objectMapper.readValue(status.getScenarioProgress(), Map.class);
            String progressDetails = scenarioProgress.entrySet().stream()
                    .map(entry -> String.format("%s: %.1f%%", entry.getKey(), entry.getValue() * 100))
                    .collect(Collectors.joining(", "));
            summary.append(String.format("- **å„åœºæ™¯è¿›åº¦**: %s\n", progressDetails));
        } catch (Exception e) {
            logger.warn("è§£æåœºæ™¯è¿›åº¦JSONå¤±è´¥: {}", e.getMessage());
        }
    }
    
    if (status.getActiveHints() != null && !status.getActiveHints().isEmpty()) {
        try {
            List<String> activeHints = objectMapper.readValue(status.getActiveHints(), List.class);
            summary.append(String.format("- **æ´»è·ƒå¼•å¯¼æç¤º**: %s\n", String.join(", ", activeHints)));
        } catch (Exception e) {
            logger.warn("è§£ææ´»è·ƒæç¤ºJSONå¤±è´¥: {}", e.getMessage());
        }
    }
    
    return summary.toString();
}
```

### 2. æç¤ºè¯æ¨¡æ¿
```java
public String buildPrompt(RoleplayContext context) {
    StringBuilder prompt = new StringBuilder();
    
    // åŸºç¡€æç¤ºè¯
    prompt.append(getBasePrompt(context));
    
    // æ”¶æ•›çŠ¶æ€ä¿¡æ¯
    String convergenceSummary = convergenceStatusService.getConvergenceStatusSummary(context.getSessionId());
    if (!convergenceSummary.isEmpty()) {
        prompt.append("\n## å½“å‰æ”¶æ•›çŠ¶æ€\n");
        prompt.append(convergenceSummary);
    }
    
    // æ”¶æ•›å¼•å¯¼è¦æ±‚
    prompt.append("\n## æ”¶æ•›å¼•å¯¼è¦æ±‚\n");
    prompt.append("è¯·æ ¹æ®å½“å‰æ”¶æ•›çŠ¶æ€ï¼Œåœ¨å›å¤ä¸­æä¾›é€‚å½“çš„å¼•å¯¼æç¤ºï¼Œç¡®ä¿æ•…äº‹å‘é¢„è®¾ç»“å±€å‘å±•ã€‚");
    
    return prompt.toString();
}
```

## æ€§èƒ½ä¼˜åŒ–

### 1. ç¼“å­˜ç­–ç•¥
- ç¼“å­˜æ”¶æ•›çŠ¶æ€è®¡ç®—ç»“æœ
- ç¼“å­˜åœºæ™¯è·ç¦»è®¡ç®—ç»“æœ
- ç¼“å­˜å¼•å¯¼æç¤ºç”Ÿæˆç»“æœ

### 2. å¼‚æ­¥å¤„ç†
- æ”¶æ•›çŠ¶æ€æ›´æ–°å¼‚æ­¥æ‰§è¡Œ
- è·ç¦»è®¡ç®—å¼‚æ­¥æ‰§è¡Œ
- å¼•å¯¼æç¤ºç”Ÿæˆå¼‚æ­¥æ‰§è¡Œ

### 3. æ‰¹é‡æ“ä½œ
- æ‰¹é‡æ›´æ–°æ”¶æ•›çŠ¶æ€
- æ‰¹é‡è®¡ç®—åœºæ™¯è·ç¦»
- æ‰¹é‡ç”Ÿæˆå¼•å¯¼æç¤º

## ç›‘æ§å’Œæ—¥å¿—

### 1. æ”¶æ•›ç›‘æ§
```java
logger.info("æ”¶æ•›çŠ¶æ€æ›´æ–°: sessionId={}, progress={}, nearestScenario={}, distance={}", 
           sessionId, progress, nearestScenario, distance);

logger.debug("åœºæ™¯è¿›åº¦æ›´æ–°: sessionId={}, scenarioProgress={}", sessionId, scenarioProgress);
logger.debug("å¼•å¯¼æç¤ºæ›´æ–°: sessionId={}, activeHints={}", sessionId, activeHints);
```

### 2. æ€§èƒ½æŒ‡æ ‡
- æ”¶æ•›çŠ¶æ€æ›´æ–°å»¶è¿Ÿ
- è·ç¦»è®¡ç®—æ—¶é—´
- å¼•å¯¼æç¤ºç”Ÿæˆæ—¶é—´

### 3. ä¸šåŠ¡æŒ‡æ ‡
- æ”¶æ•›æˆåŠŸç‡
- å¹³å‡æ”¶æ•›æ—¶é—´
- ç”¨æˆ·æ»¡æ„åº¦

## æ‰©å±•æ€§

### 1. æ–°åœºæ™¯æ”¯æŒ
- æ”¯æŒåŠ¨æ€æ·»åŠ æ–°çš„æ”¶æ•›åœºæ™¯
- æä¾›åœºæ™¯é…ç½®æ¥å£
- æ”¯æŒåœºæ™¯æƒé‡è°ƒæ•´

### 2. è‡ªå®šä¹‰ç®—æ³•
- æ”¯æŒè‡ªå®šä¹‰è·ç¦»è®¡ç®—ç®—æ³•
- æä¾›ç®—æ³•æ’ä»¶æœºåˆ¶
- æ”¯æŒA/Bæµ‹è¯•

### 3. å¤šæ¨¡å‹æ”¯æŒ
- æ”¯æŒä¸åŒçš„æ”¶æ•›ç®—æ³•
- æä¾›æ¨¡å‹é€‚é…å™¨
- æ”¯æŒæ¨¡å‹åˆ‡æ¢

## ä½¿ç”¨ç¤ºä¾‹

### 1. åŸºç¡€æ”¶æ•›
```json
{
  "progress": 0.3,
  "nearestScenarioId": "story_convergence_1",
  "nearestScenarioTitle": "åˆæ¬¡å†’é™©",
  "distanceToNearest": 0.8,
  "activeHints": ["æ¢ç´¢å‘¨å›´ç¯å¢ƒ", "ä¸NPCå¯¹è¯"]
}
```

### 2. é«˜çº§æ”¶æ•›
```json
{
  "progress": 0.85,
  "nearestScenarioId": "story_convergence_3",
  "nearestScenarioTitle": "æœ€ç»ˆå†³æˆ˜",
  "distanceToNearest": 0.2,
  "scenarioProgress": {
    "story_convergence_1": 1.0,
    "story_convergence_2": 0.9,
    "story_convergence_3": 0.85
  },
  "activeHints": ["å‡†å¤‡æœ€ç»ˆæˆ˜æ–—", "æ”¶é›†å…³é”®é“å…·"]
}
```

## æœ€ä½³å®è·µ

### 1. æ”¶æ•›å¹³è¡¡
- é¿å…è¿‡åº¦å¼•å¯¼ï¼Œä¿æŒç”¨æˆ·è‡ªä¸»æ€§
- æä¾›å¤šç§æ”¶æ•›è·¯å¾„
- å¹³è¡¡è‡ªç”±åº¦å’Œæ•…äº‹å®Œæ•´æ€§

### 2. æç¤ºè´¨é‡
- æä¾›è‡ªç„¶ã€æœ‰è¶£çš„å¼•å¯¼æç¤º
- é¿å…ç”Ÿç¡¬çš„å‰§æƒ…å¼ºåˆ¶
- æ ¹æ®ç”¨æˆ·åå¥½è°ƒæ•´æç¤ºé£æ ¼

### 3. æ€§èƒ½ä¼˜åŒ–
- åˆç†è®¾ç½®è®¡ç®—é¢‘ç‡
- ä¼˜åŒ–ç®—æ³•å¤æ‚åº¦
- ä½¿ç”¨é€‚å½“çš„ç¼“å­˜ç­–ç•¥

### 4. ç”¨æˆ·ä½“éªŒ
- æä¾›æ”¶æ•›çŠ¶æ€å¯è§†åŒ–
- æ”¯æŒæ”¶æ•›å†å²æŸ¥çœ‹
- æä¾›æ”¶æ•›è®¾ç½®é€‰é¡¹

---

**æ”¶æ•›æœºåˆ¶æ˜¯QN Contestçš„æ ¸å¿ƒåˆ›æ–°ï¼Œé€šè¿‡æ™ºèƒ½ç®—æ³•ç¡®ä¿æ•…äº‹çš„æœ‰æ„ä¹‰å‘å±•ï¼Œä¸ºç”¨æˆ·æä¾›æ—¢è‡ªç”±åˆè¿è´¯çš„è§’è‰²æ‰®æ¼”ä½“éªŒã€‚**


